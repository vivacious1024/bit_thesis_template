# 北京理工大学本科生毕业设计（论文）Typst 模板使用说明

本模板旨在为北京理工大学本科生提供一个无需折腾、开箱即用的 Typst 毕业设计论文模板。该模板严格遵循学校教务处发布的排版规范，涵盖了页边距、字体、标题、公式、图表、参考文献及附录等所有核心格式要求。

## ✨ 功能特性

- **页面规范**：严格配置 A4 纸张及页边距（上3.5cm、下2.6cm、左3.0cm、右2.6cm）。
- **字体管理**：预设宋体（SimSun）、黑体（SimHei）及 Times New Roman，自动处理中英文混排。
- **标题样式**：
  - 一级标题：黑体三号加粗，居中，段前0.5行/段后1行，自动编号“第X章”。
  - 二/三级标题：黑体小四/四号加粗，左对齐，自动编号“1.1”，“1.1.1”。
- **自动化排版**：
  - **目录**：自动生成索引，一级标题左对齐，子标题依次缩进 1em。
  - **图表**：自动按章编号（1-1），图注/表注字体自适应（宋体五号），表格标题置顶，图片标题置底。
  - **公式**：自动按章编号（(1-1)），编号置于最右侧，引用时自动添加“式”前缀。
- **参考文献**：内置 GB/T 7714-2015 国标样式，利用 CSL 引擎自动生成标准参考文献列表。
- **附录支持**：提供 `appendix` 环境，一键切换至附录模式（编号变为 A, B...，图表公式前缀自动更新为 A-1 等）。

## 🚀 快速开始

### 1. 准备工作
确保本地已安装 [Typst](https://github.com/typst/typst)。
同时，确保系统安装了以下字体（Windows 通常自带）：
- SimSun (宋体)
- SimHei (黑体)
- Times New Roman

### 2. 文件结构
将以下文件放在项目根目录：
- `template_for_bit_graduate_project.typ`: 核心模板文件
- `china-national-standard-gb-t-7714-2015-numeric.csl`: 参考文献样式文件

### 3. 创建主文件 (`main.typ`)

新建 `main.typ` 并粘贴以下基础代码：

```typst
#import "template_for_bit_graduate_project.typ": project, appendix

// 1. 应用模板
#show: project.with(
  title: "基于 Typst 的毕业设计论文排版系统研究",
  authors: ("张三",),
  date: "2026年6月",
)

// 2. 正文部分
= 绪论
Typst 是新一代的排版系统，具有轻量、快速、易学的特点 @typst_doc。

== 研究背景
这是二级标题的内容。

// 公式示例
$ a^2 + b^2 = c^2 $ <eq_test>
如 @eq_test 所示，勾股定理...

// 图表示例
#figure(
  table(columns: 2, [姓名], [学号], [张三], [001]),
  caption: "示例表格",
  kind: table
)

// 3. 参考文献
// 需准备 ref.bib 文件
#bibliography("ref.bib")

// 4. 附录（可选）
#show: appendix

= 补充算法代码
这里是附录 A 的内容...
```

### 4. 编译
在终端运行：
```bash
typst compile main.typ
```
即可生成 PDF 文件。

## 📖 详细排版说明

| 项目 | 格式要求 | 模板实现状态 |
| :--- | :--- | :--- |
| **页边距** | 上3.5, 下2.6, 左3.0, 右2.6 (cm) | ✅ 已配置 |
| **页眉** | 宋体四号，居中，距顶2.4cm，"北京理工大学..." | ✅ 已配置 (带下划线) |
| **页脚** | 宋体五号，页码居中，距底2cm | ✅ 已配置 |
| **正文** | 宋体小四，行距22磅，两端对齐 | ✅ 已配置 (leading=10pt) |
| **标题** | 多级黑体加粗，特定字号与间距 | ✅ 已配置 (自动编号) |
| **图表** | 居中，图注在下，表头在上，宋体五号 | ✅ 已配置 (通过 show rules) |
| **公式** | 右侧编号 (章-序)，引用前加“式”| ✅ 已配置 |
| **参考文献** | GB/T 7714-2015 标准 | ✅ 已配置 (本地 CSL 文件) |

## 🛠️ 文件说明
- **template_for_bit_graduate_project.typ**: 模板源码，包含所有样式定义。用户通常不需要修改此文件，除非有特殊的定制需求。
- **china-national-standard-gb-t-7714-2015-numeric.csl**: 引用样式文件，请勿删除或重命名，否则参考文献将无法正确生成。
